<beans xmlns="http://www.springframework.org/schema/beans" xmlns:c="http://www.springframework.org/schema/c"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd">

    <bean name="dataStore" c:id="urn:dataStore" c:store-ref="twoStore" c:mapper-ref="storeMapper"
        class="org.akubraproject.map.IdMappingBlobStore">
        <description>A mapping store to use over a TwoStore.</description>
        <qualifier type="edu.virginia.lib.ole.akubra.integration.MappedStore"/>
    </bean>

    <bean name="storeMapper" class="edu.virginia.lib.ole.akubra.BitStringMapper">
        <description>An IDMapper that takes URIs and maps to hashes that are returned as binary strings for use with
            TwoStore.</description>
    </bean>

    <bean name="twoStore" c:id="urn:dataStore1" c:left-ref="memDataStore1" c:right-ref="memDataStore2"
        class="edu.virginia.lib.ole.akubra.TwoStore">
        <description>A multiplexing store.</description>
    </bean>

    <bean name="memDataStore1" class="org.akubraproject.mem.MemBlobStore">
        <description>A concrete BlobStore.</description>
        <qualifier type="edu.virginia.lib.ole.akubra.integration.Left"/>
    </bean>

    <bean name="memDataStore2" class="org.akubraproject.mem.MemBlobStore">
        <description>A concrete BlobStore.</description>
        <qualifier type="edu.virginia.lib.ole.akubra.integration.Right"/>
    </bean>

</beans>
