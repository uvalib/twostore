<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Oct 11, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
        About</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20111011" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="./" id="bannerLeft">
                                                <img src="" alt="TwoStore" />
                </a>
                          <div id="bannerRight">
                                        <img src="http://www2.lib.virginia.edu/images/globalHd/library_logo_stacked.png" alt="TwoStore" />
                </div>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-10-11</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0</span>
                      </div>
            <div class="xright">                    <a href="http://fedoracommons.org/" class="externalLink" title="Fedora">Fedora</a>
            |
                        <a href="https://wiki.duraspace.org/display/AKUBRA/Akubra+Project" class="externalLink" title="Akubra">Akubra</a>
            |
                        <a href="http://www.lib.virginia.edu" class="externalLink" title="UVa Library">UVa Library</a>
              
                
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                
                                <h5>TwoStore</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="release-notes.html" title="Release Notes">Release Notes</a>
            </li>
                  <li class="none">
            <strong>Usage</strong>
          </li>
                  <li class="none">
                          <a href="roadmap.html" title="Road Map">Road Map</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                              <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
    
        <div class="section"><h2>Usage<a name="Usage"></a></h2>
            <p>
                TwoStore, like any Akubra system, is easily configured with Spring. Below is an example of Spring XML configuration. Please notice the use of the </p><div class="source"><pre>BitStringMapper</pre></div> before all <div class="source"><pre>TwoStore</pre></div>s and the way that our <div class="source"><pre>TwoStore</pre></div> instance multiplexes two other <div class="source"><pre>BlobStore</pre></div>s. Those are the two key components of the <div class="source"><pre>TwoStore</pre></div> approach.
            
            <div class="source"><pre>
                
                    
                    
                        Low-level storage for a repository.
                        
                            The store of serialized Fedora objects
                            
                        
                        
                            The store of datastream content
                            
                        
                        
                            if true, replaceObject calls will be done in a way that ensures the old content
                                is not deleted until the new content is safely written. If the objectStore already does
                                this, this should be given as false
                        
                        
                            save as above, but for datastreamStore
                        
                    
                    
                    
                        A mapping store to use for serialized objects.
                        
                            The URI by which to address this BlobStore
                        
                        
                            
                            The underlying BlobStore to which to map this IdMappingBlobStore.
                        
                        
                            
                            The ID mapper to use. This one (declared below) maps URIs to hashed URIs for use with TwoStore.
                        
                    
                    
                    
                        
                            The URI by which to address this BlobStore
                        
                        
                            
                            The underlying BlobStore to which to map this IdMappingBlobStore. This one is a concrete FSBlobStore, declared below.
                        
                        
                            
                            The ID mapper to use. This one (declared below) simply adds or subtracts the prefix &quot;file:&quot;.
                        
                    
                                     
                    <!-- datastream storage -->
                    
                    
                        A mapping store to use for datastreams.
                        
                            The URI by which to address this BlobStore
                        
                        
                            
                            The underlying BlobStore to which to map this IdMappingBlobStore. This one is a TwoStore, declared below. That means that it will itself multiplex two other BlobStores.
                        
                        
                            
                            The ID mapper to use. This one (declared below) maps URIs to hashed URIs for use with TwoStore.                            
                        
                    
                    
                    
                        A multiplexing store to use for datastreams.
                        
                            The URI by which to address this BlobStore
                        
                        
                            
                            The &quot;left-hand&quot; BlobStore being multiplexed. This one is a IdMapping store declared below.
                        
                        
                            
                            The &quot;right-hand&quot; BlobStore being multiplexed. This one is a IdMapping store declared below.                   
                        
                    
                    
                    A mapping store to use for datastreams.
                        A mapping store to use for datastreams.
                        
                            The URI by which to address this BlobStore
                        
                        
                            
                            The underlying BlobStore to which to map this IdMappingBlobStore. This one is a concrete FSBlobStore, declared below. 
                        
                        
                            
                            The ID mapper to use. This one (declared below) simply adds or subtracts the prefix &quot;file:&quot;.                     
                        
                    
                    
                    
                        A mapping store to use for datastreams.                      
                        
                            The URI by which to address this BlobStore
                        
                        
                            
                            The underlying BlobStore to which to map this IdMappingBlobStore. This one is a concrete FSBlobStore, declared below.
                        
                        
                            
                            The ID mapper to use. This one (declared below) simply adds or subtracts the prefix &quot;file:&quot;.                   
                        
                    
                    
                    
                        An IDMapper that takes URIs and maps to hashes that are returned as binary strings for use with TwoStore.
                    
                    
                    
                        An IDMapper that simply adds or subtracts the prefix &quot;file:&quot; for use with FSBlobStores.
                    
                    
                    
                        A concrete FSBlobStore.
                        
                            The URI by which to address this BlobStore
                        
                        
                            Filesystem location for storage.
                        
                    
                    
                    
                        A concrete FSBlobStore.
                        
                            The URI by which to address this BlobStore
                        
                        
                            Filesystem location for storage.
                        
                    
                    
                    
                        A concrete FSBlobStore.
                        
                            The URI by which to address this BlobStore
                        
                        
                            Filesystem location for storage.
                        
                    
                    
                
            </pre></div>
            
        </div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2011
                        <a href="http://www.lib.virginia.edu">the University of Virginia Library :: OLE</a>.
            All Rights Reserved.      
                
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
